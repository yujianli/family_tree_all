(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0e2d":function(t,e,n){"use strict";n.r(e);var a=n("6ab7"),o=n("9da5");for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);n("e436");var s=n("2877"),u=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"1f14d429",null);e["default"]=u.exports},"257b":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(n("d825")),i=s(n("230c"));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){return n.e("components/uni-ui/uni-swiper-dot/uni-swiper-dot").then(n.bind(null,"9db1"))},r={data:function(){return{basicFuncList:[{id:-1,name:"更多",icon:"../../static/images/icon_func_0.png"}],userId:-1,personInfo:{id:-1,headUrl:"../../static/images/test.png",name:"",birth:"",birthPlace:"",nationality:"",career:""},userCardList:[{zodiac:3,sex:1,name:"张三",headUrl:"../../static/images/icon_func_0.png",birth:"1993-10-11",familyUserId:"1"},{zodiac:"",sex:1,name:"李四",headUrl:"../../static/images/icon_func_1.png",birth:"",familyUserId:"2"},{zodiac:"",sex:2,name:"王五",headUrl:"../../static/images/icon_func_2.png",birth:"",familyUserId:"3"}],current:0,mode:"round",dotsStyles:{width:0,bottom:0,border:0,height:0,selectedBorder:0},contentList:[]}},components:{uniSwiperDot:u},computed:{},filters:{formatDate:function(t){return t?o.default.dateFormat(t):""}},onLoad:function(){var e=t.getStorageSync("USER");this.userId=e.id,t.showModal({title:"温馨提示",content:"试用期已到期，请支付年费后继续使用？",cancelText:"以后再说",confirmColor:"#4DC578",success:function(e){e.confirm?t.navigateTo({url:"/pages/fee/fee"}):e.cancel&&console.log(a("用户点击取消"," at pages\\index\\index.vue:165"))}})},onShow:function(){this.loadModule(this.userId),this.loadUserInfo(this.userId),this.loadIndexContent()},methods:{jumpToList:function(e){var n=i.default.linkUrl[e.id];if(!n)return t.showToast({title:"正在开发中...",icon:"none"}),!1;switch(e.id){case 1:n=n+"?id="+this.personInfo.id;break;default:n+=o.default.jsonToQuery({userId:this.userId,moduleId:e.id,flag:i.default.linkFlag(e.id),name:e.name,language:this.$common.language})}t.navigateTo({url:n})},jumpToDetail:function(e){var n={userId:this.userId,moduleId:e.moduleId,flag:e.flag,contentId:e.id,name:e.moduleName},a="/pages/hobby/detail"+o.default.jsonToQuery(n);t.navigateTo({url:a})},loadModule:function(e){var n=this;this.$http.get("module/user/all",{isFamily:1,language:this.$common.language,userId:e}).then(function(e){200===e.data.code?(n.basicFuncList=e.data.data.module,n.basicFuncList.push({id:0,name:"更多",icon:"../../static/images/icon_func_0.png"})):t.showToast({title:"模块信息加载失败",icon:"none"})})},loadUserInfo:function(e){var n=this;this.$http.get("base/selectBase",{language:this.$common.language,userId:e}).then(function(e){200===e.data.code?o.default.loadObj(n.personInfo,e.data.data.baseInfo):t.showToast({title:"人物信息加载失败",icon:"none"})})},loadIndexContent:function(){var e=this;this.$http.get("content/userCards",{userId:this.userId,page:1,rows:20,language:this.$common.language}).then(function(n){if(200===n.data.code){e.contentList=n.data.data.contentList;for(var a=0;a<e.contentList.length;a++)e.contentList[a].tags&&(e.contentList[a].tags=e.contentList[a].tags.split(",")),e.contentList[a].imageUrl&&(e.contentList[a].imageUrl=e.$common.picPrefix()+e.contentList[a].imageUrl)}else t.showToast({title:"首页内容加载失败",icon:"none"})})},toMore:function(){t.navigateTo({url:"/pages/all/all?userId="+this.userId})}}};e.default=r}).call(this,n("6e42")["default"],n("0de9")["default"])},"6ab7":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.contentList,function(e,n){var a=t._f("formatDate")(e.createDate);return{$orig:t.__get_orig(e),f0:a}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o})},8145:function(t,e,n){},"9da5":function(t,e,n){"use strict";n.r(e);var a=n("257b"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e["default"]=o.a},e436:function(t,e,n){"use strict";var a=n("8145"),o=n.n(a);o.a},e637:function(t,e,n){"use strict";(function(t){n("a45e"),n("921b");a(n("66fd"));var e=a(n("0e2d"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["e637","common/runtime","common/vendor"]]]);